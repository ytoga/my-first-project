# Subscription Analytics Dashboard

モバイルアプリのサブスクリプション契約状況を可視化するダッシュボードです。

## 起動方法

```bash
cd dashboard
npm install
npm run dev
```

## 機能

### KPI カード

| カード | 説明 |
|--------|------|
| 有効サブスク数 | 選択期間末時点のアクティブ契約数 |
| 新規登録 | 期間中の新規サブスクリプション合計 |
| 解約 | 期間中の解約合計 |
| MRR | 月次経常収益（円表示） |
| トライアル転換率 | トライアル → 有料の転換率（%） |

各カードには前期比の変動率バッジが表示されます。

### フィルタ

- **期間**: 日付ピッカーで開始日・終了日を指定
- **OS**: iOS / Android をトグルで切り替え（複数選択可）
- **プラン**: 月額 / 年額 をトグルで切り替え（複数選択可）

フィルタを変更すると KPI 数値・4 種のグラフがすべてリアクティブに更新されます。

### グラフ

1. 有効サブスクリプション数 推移（エリアチャート）
2. 新規登録 / 解約 推移（棒グラフ）
3. MRR 推移（エリアチャート）
4. トライアル転換率 推移（折れ線グラフ）

### 生データビューア

ヘッダー右上の「生データ」ボタンをクリックすると、フィルタ適用済みの日次集計データをテーブル形式で確認できます。

- ソート: 各カラムヘッダーをクリックで昇順・降順を切り替え
- 検索: 日付での絞り込みが可能（例: `2026-01`）
- CSV エクスポート: 表示中のデータを CSV ファイルとしてダウンロード
- ページネーション: 20 件ずつ表示

### ダミーデータ

データはすべてクライアントサイドで生成されるダミーデータです。

- **ランダム性**: サーバー起動（ページ読み込み）のたびにシード値が変わるため、毎回異なるデータが生成されます
- **リアルなトレンド**: 季節変動（Q1・Q4 は上振れ、夏は下振れ）、緩やかな成長トレンド、週末バイアスを含みます
- **スパイク**: ランダムに大幅増加やディップが発生し、実運用データに近い揺らぎがあります
- **セグメント差**: iOS が Android よりやや多め、月額が年額より多い現実的な比率です

## 技術スタック

- React + TypeScript
- Vite
- Tailwind CSS v4
- Recharts
- date-fns
- Lucide React (アイコン)
